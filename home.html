<!DOCTYPE html>
<html>
<head>
	<title> Home </title>
  <link href="style.css" rel="stylesheet">
</head>

<div class="center">
	
	<label for="username">Username</label>
	<input type="username" id="username"/>
	<label for="password">Password</label>
	<input type="password" id="password"/>
	<button type="submit" id="submit">Submit</button>
	
</div>


<head>
<script>
document.getElementById('submit').onclick = function()
	{
		username = document.getElementById('username').value;
		password = document.getElementById('password').value;
		console.log(username);
		console.log(password);
		checkCookie(username, password);
	}
    function setCookie(cname, cvalue, exdays)
    {
         console.log("entering set cookie routine");
         var d = new Date();
         d.setTime(d.getTime() + (exdays*24*60*60*1000));
         var expires = "expires=" + d.toGMTString();
         document.cookie = cname + "="+ cvalue + "; " + expires; 
    }
    
    function getCookie(cname) //read existing cookies, if they are there...
    {
        console.log("loading get cookie...");
        
        var name = cname + "=";
        console.log(`document cookie list is ${document.cookie}`);
        var ca = document.cookie.split(";"); //!
        console.log("displaing ca: " + ca);
        
        for(var i = 0; i < ca.length; i++)
        {
            var c = ca[i];
            console.log(`c at i: ${ca[i]}`);
            while(c.charAt(0)==' ') c = c.substring(1);
            if(c.indexOf(name) == 0){
                return c.substring(name.length, c.length);
            }
        }
        
        return "";    
    } 
    //trigger get, and set, depending on...
    function checkCookie(username, password)
    { 
		/*
        var user=getCookie("username"); //username is cookiename set by me
        if(user != ""){
            console.log("Welcome again, " + user);
        }else{ */
		if (username.length > 0 && password.length > 0){
			user=prompt("Please enter your name: ", ""); //supply text input
			if(user != null){
				console.log("no cookie exists, with that name....");
				setCookie("username", user, 30); //expiration period
				window.location.href="about.html";
				//alert("Welcome again, " + user);
			}
		}
    }

</script>
</head>
<body></body>
</html>

	
